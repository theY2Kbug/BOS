# Base of Support (BoS)

The base of support (BoS) refers to the area beneath an object or person that includes every point of contact that the object or person makes with the supporting surface. The shaded region in the image below represents BoS. Base of Support is primarily used to determine a person's stabilty (If COM lies within BoS then the person has steady gait and is stable).

<div align="center">
  <img src="https://www.physio-pedia.com/images/d/d0/BaseOfSupport.jpg" alt="base of support">
  <p>Credit: Sheik Abdul Khadir A.M.K., PhysioPedia</p>
</div>

# To use this repository
Anaconda or any of its variants must be installed. Any RGB camera would work (RGB-D would be required in the future).
```
conda env create -f environment.yml
```

# Method of finding static BoS
In this context, static BoS refers to the area beneath an object or person that includes every point of contact that the object or person makes with the supporting surface when the person is stationary. 

A yolo-v4 tiny CNN (yolo-v4 tiny was chosen keeping deployment to edge computing devices in mind) is trained with 1200 annotated training images (with 6 classes - 2 toes, 2 feet and 2 ankles). The training summary are as shown below.


<div align="center">
  <img src="https://user-images.githubusercontent.com/76219678/164724875-9ac299f5-193b-4c8e-8491-b94aa45dbbff.png" width="75%" alt=""training summary>
  <p>A peak mAP score of 72% was achieved</p>
</div>

The .weights file generated by darknet was converted to tflite using <a href="https://github.com/hunglc007/tensorflow-yolov4-tflite">this repository</a>

Frames from live video feed can be fed into the trained CNN and the outline of the feet will be segmented successfully.

![bos](https://user-images.githubusercontent.com/76219678/164728625-177a86fe-1489-4245-a6bf-77f36d9ddc5a.gif)

# Scope of future work
The region as shown in the first image is still a work in progress has to be drawn on the segmented images.
